import{_ as s,c as a,o as i,a7 as t}from"./chunks/framework.C-49Vm5p.js";const g=JSON.parse('{"title":"Nuxt Module","description":"","frontmatter":{},"headers":[],"relativePath":"nuxt-module.md","filePath":"nuxt-module.md","lastUpdated":1708655639000}'),e={name:"nuxt-module.md"},n=t(`<h1 id="nuxt-module" tabindex="-1">Nuxt Module <a class="header-anchor" href="#nuxt-module" aria-label="Permalink to &quot;Nuxt Module&quot;">​</a></h1><p>The Nuxtus Nuxt Module automates Directus/Nuxt interoperability. It works hand-in-hand with the <a href="./directus-extension.html">Nuxtus Directus Extension</a> by producing server endpoints (available while in development only) that Directus call as a webhook.</p><blockquote><p>The Nuxt module is installed automatically if you are using the Nuxtus boilerplate. If you need to install manually continue reading below.</p></blockquote><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">​</a></h2><p>Install the Nuxtus Nuxt module package:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @nuxtus/nuxt-module</span></span></code></pre></div><p>In your nuxt.config.ts file add the modules:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  modules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;@nuxtus/nuxt-module&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>If you haven&#39;t already, install the <a href="./directus-extension.html">Nuxtus hook for Directus</a> to configure the Directus hooks that will automatically call the endpoints created by this module.</p><h2 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h2><p>In order for Nuxtus CLI to communicate with Directus you need to provide connection credentials. Create a <code>.env</code> file in the root of your <strong>Nuxt project</strong> and add the following lines:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># URL of your Directus instance</span></span>
<span class="line"><span>DIRECTUS_URL=http://localhost:8055</span></span>
<span class="line"><span># Directus login credentials</span></span>
<span class="line"><span>NUXTUS_DIRECTUS_ADMIN_EMAIL=admin@example.com</span></span>
<span class="line"><span>NUXTUS_DIRECTUS_ADMIN_PASSWORD=password</span></span>
<span class="line"><span>NUXTUS_DIRECTUS_AUTH=false</span></span></code></pre></div><p>The nuxt module can be configured using the <code>nuxtus</code> property within <code>nuxt.config.ts</code>:</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  modules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;@nuxtus/nuxt-module&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  nuxtus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // nuxtus options here</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	authDirectus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  directus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="config-options" tabindex="-1">Config options <a class="header-anchor" href="#config-options" aria-label="Permalink to &quot;Config options&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Option</th><th>Description</th><th>Default value</th></tr></thead><tbody><tr><td><code>authDirectus</code></td><td>By default Nuxtus will try and authenticate to Directus. If your API is public you can set this to false to skip the login step.</td><td>true</td></tr></tbody></table><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><p>When Nuxt is running the plugin will:</p><ol><li>Automatically log in to Directus</li><li>Provide you with 2 server endpoints <strong>during development</strong><ol><li>POST /api/directus/collection - For automatically creating pages as they are created in Directus</li><li>POST /api/directus/field - For updating type information for collections as fields change in Directus</li></ol></li></ol><h2 id="development" tabindex="-1">Development <a class="header-anchor" href="#development" aria-label="Permalink to &quot;Development&quot;">​</a></h2><ul><li>Run <code>npm run dev:prepare</code> to generate type stubs.</li><li>Use <code>npm run dev</code> to start playground in development mode.</li></ul>`,21),l=[n];function o(p,h,d,r,u,c){return i(),a("div",null,l)}const y=s(e,[["render",o]]);export{g as __pageData,y as default};
