import{_ as s,c as n,o as a,a as e}from"./app.b49a5621.js";const D=JSON.parse('{"title":"Nuxt Module","description":"","frontmatter":{},"headers":[{"level":2,"title":"Installation","slug":"installation","link":"#installation","children":[]},{"level":2,"title":"Configuration","slug":"configuration","link":"#configuration","children":[{"level":3,"title":"Config options","slug":"config-options","link":"#config-options","children":[]}]},{"level":2,"title":"Usage","slug":"usage","link":"#usage","children":[]},{"level":2,"title":"Development","slug":"development","link":"#development","children":[]}],"relativePath":"nuxt-module.md","lastUpdated":1708655639000}'),l={name:"nuxt-module.md"},t=e(`<h1 id="nuxt-module" tabindex="-1">Nuxt Module <a class="header-anchor" href="#nuxt-module" aria-hidden="true">#</a></h1><p>The Nuxtus Nuxt Module automates Directus/Nuxt interoperability. It works hand-in-hand with the <a href="./directus-extension.html">Nuxtus Directus Extension</a> by producing server endpoints (available while in development only) that Directus call as a webhook.</p><blockquote><p>The Nuxt module is installed automatically if you are using the Nuxtus boilerplate. If you need to install manually continue reading below.</p></blockquote><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-hidden="true">#</a></h2><p>Install the Nuxtus Nuxt module package:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">npm install --save-dev @nuxtus/nuxt-module</span></span>
<span class="line"></span></code></pre></div><p>In your nuxt.config.ts file add the modules:</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">modules</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@nuxtus/nuxt-module</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>If you haven&#39;t already, install the <a href="./directus-extension.html">Nuxtus hook for Directus</a> to configure the Directus hooks that will automatically call the endpoints created by this module.</p><h2 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-hidden="true">#</a></h2><p>In order for Nuxtus CLI to communicate with Directus you need to provide connection credentials. Create a <code>.env</code> file in the root of your <strong>Nuxt project</strong> and add the following lines:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;"># URL of your Directus instance</span></span>
<span class="line"><span style="color:#A6ACCD;">DIRECTUS_URL=http://localhost:8055</span></span>
<span class="line"><span style="color:#A6ACCD;"># Directus login credentials</span></span>
<span class="line"><span style="color:#A6ACCD;">NUXTUS_DIRECTUS_ADMIN_EMAIL=admin@example.com</span></span>
<span class="line"><span style="color:#A6ACCD;">NUXTUS_DIRECTUS_ADMIN_PASSWORD=password</span></span>
<span class="line"><span style="color:#A6ACCD;">NUXTUS_DIRECTUS_AUTH=false</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>The nuxt module can be configured using the <code>nuxtus</code> property within <code>nuxt.config.ts</code>:</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">modules</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@nuxtus/nuxt-module</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">nuxtus</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// nuxtus options here</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#FFCB6B;">authDirectus</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">directus</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="config-options" tabindex="-1">Config options <a class="header-anchor" href="#config-options" aria-hidden="true">#</a></h3><table><thead><tr><th>Option</th><th>Description</th><th>Default value</th></tr></thead><tbody><tr><td><code>authDirectus</code></td><td>By default Nuxtus will try and authenticate to Directus. If your API is public you can set this to false to skip the login step.</td><td>true</td></tr></tbody></table><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-hidden="true">#</a></h2><p>When Nuxt is running the plugin will:</p><ol><li>Automatically log in to Directus</li><li>Provide you with 2 server endpoints <strong>during development</strong><ol><li>POST /api/directus/collection - For automatically creating pages as they are created in Directus</li><li>POST /api/directus/field - For updating type information for collections as fields change in Directus</li></ol></li></ol><h2 id="development" tabindex="-1">Development <a class="header-anchor" href="#development" aria-hidden="true">#</a></h2><ul><li>Run <code>npm run dev:prepare</code> to generate type stubs.</li><li>Use <code>npm run dev</code> to start playground in development mode.</li></ul>`,21),o=[t];function p(i,c,r,u,d,h){return a(),n("div",null,o)}const F=s(l,[["render",p]]);export{D as __pageData,F as default};
